<div class="confirmation-container">
  <div class="confirmation-card">
    <div class="confirmation-details">
      <h1>Order Status:
      <span class="badge badge-warning"><%= @order.state %></span>  
      </h1>
      <h1>CONGRATS.</h1>
      <p><%= image_tag(@order.event.photos.first) %></p>
      <h2>You are going to</h2> 
      <h2><%= @order.event.name %></h2>
      <p><strong>START TIME</strong> <%= @order.event.start_time.strftime("%H:%M") %></p>
      <p>EVENT <%= @order.event.name %></p>
      <p>NO. TICKETS <%= (@order.amount / @order.event.price).to_i  %></p>
      <p>TOTAL <%= humanized_money_with_symbol @order.amount %></p>

      <button class="neon-button pulse" id="show-directions">Show Directions</button>

      <div id="directions-container" class="hide">
        <div id="map-directions" style="width: 287.33px; min-height: 40vh;" data-destination="<%= @destination.to_json %>" data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"></div>
        <%# <div id="instructions"></div> %>
      </div>
  
      <button class="neon-button">
        <%= link_to "See More Events", events_path %>
      </button>
    </div>
  </div>
</div>

<div id="checkout-footer">
  <%= render "components/footer" %>
</div>

<%= javascript_pack_tag 'directions' %>

<script>
  const directions = document.getElementById("show-directions");
  directions.addEventListener("click", (e) => {
     if (e.currentTarget.innerText === "SHOW DIRECTIONS") {
       e.currentTarget.innerText = "Hide Directions";
     } else {
       e.currentTarget.innerText = "Show Directions";
     }
    document.getElementById("directions-container").classList.toggle('hide');
  });
</script>
